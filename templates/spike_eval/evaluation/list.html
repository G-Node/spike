{% extends "spike_eval/evaluation/base.html" %}

{% load i18n %}
{% load pagination_tags %}
{% load sorting_tags %}
{% load spike_eval_tags %}

{% block head_title %}{% trans "Evaluations" %}{% endblock %}

{% block content %}

  <p>You may select a Benchmark and download files to start your own
    Evaluations <a href="{% url b_list %}">here</a>.</p>

  {% if e_list_self %}
    <section>
      <h2>Evaluation Batch List ({% icn_profile user %})
        <small>only your Evaluation Batches are listed here</small>
      </h2>
      {% autosort e_list_self %}
      {% autopaginate e_list_self 20 %}
      <table class="table table-striped table-condensed">
        <thead>
        <tr>
          <th>{% trans "ID, Algorithm" %}</th>
          <th>{% trans "Author" %}</th>
          <th>{% trans "Date" %}</th>
          <th>{% trans "Benchmark" %}</th>
          <th>{% trans "Description" %}</th>
          <th>{% trans "Access" %}</th>
        </tr>
        </thead>
        <tbody>
        {% for e in e_list_self %}
          <tr>
            <td>
              <a href="{{ e.get_absolute_url }}">
                <strong style="{% zero_red e.access %}">
                  #{{ e.id }}, {{ e.algorithm }}</strong>
              </a>
            </td>
            <td>
              {% icn_profile e %}
            </td>
            <td>
              {% icn_time e %}
            </td>
            <td>
              <a href="{{ e.benchmark.get_absolute_url }}">
                {{ e.benchmark.name }}</a>
            </td>
            <td>
              {{ e.description|truncatewords:15|escape }}
            </td>
            <td>
              <strong style="{% state_color e.access %}">
                {{ e.get_access_display }}</strong>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      {% paginate %}
    </section>
  {% endif %}

  <section>
    <h2>Evaluation Batch List
      <small>public Evaluation Batches are listed here</small>
    </h2>
    {% if not e_list %}
      <p>There are no public Evaluations Batches available.</p>
    {% else %}
      {% autosort e_list %}
      {% autopaginate e_list 20 %}
      <form class="form" method="GET">
        <div class="control-group">
          <div class="controls">
            <div class="input-prepend input-append">
              <span class="add-on"><i class="icon-search"></i></span>
              <input type="text" name="search" value="{{ search_terms }}"
               class="input-medium search-query"/>
              <input class="btn" type="submit" value="Search"/>
              {% if search_terms %}
                <a class="btn" href="{% clear_search_url request %}">Clear</a>
              {% endif %}
            </div>
          </div>
          <div class="controls">
            <i class="icon-filter"></i>
            {% anchor algorithm__name Algorithm %}
            {% anchor added_by__username Author %}
            {% anchor benchmark__name Benchmark %}
            {% anchor date_created Date %}
          </div>
        </div>
      </form>
      <table class="table table-striped table-condensed">
        <thead>
        <tr>
          <th>{% trans "ID, Algorithm" %}</th>
          <th>{% trans "Author" %}</th>
          <th>{% trans "Date" %}</th>
          <th>{% trans "Benchmark" %}</th>
          <th>{% trans "Description" %}</th>
          <th>{% trans "Access" %}</th>
        </tr>
        </thead>
        <tbody>
        {% for e in e_list %}
          <tr>
            <td>
              <a href="{{ e.get_absolute_url }}">
                <strong style="{% zero_red e.access %}">
                  #{{ e.id }}, {{ e.algorithm }}</strong>
              </a>
            </td>
            <td>
              {% icn_profile e %}
            </td>
            <td>
              {% icn_time e %}
            </td>
            <td>
              <a href="{{ e.benchmark.get_absolute_url }}">
                {{ e.benchmark.name }}</a>
            </td>
            <td>
              {{ e.description|truncatewords:15|escape }}
            </td>
            <td>
              <strong style="{% state_color e.access %}">
                {{ e.get_access_display }}</strong>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      {% paginate %}
    {% endif %}
  </section>
{% endblock %}
